<!-- Custom Header Content -->
<button class="btn js-toggle-dark-mode-header" style="color: #11a9bb; padding: 5px; margin-left: 15px;">☾ dark</button>

<script>
document.addEventListener("DOMContentLoaded", function() {
    const headerBtnToggle = document.querySelector('.js-toggle-dark-mode-header');

    // Ensure the button is found before trying to set its behavior
    if (headerBtnToggle) {
        // Set initial theme based on localStorage
        if (localStorage.getItem('theme') === 'dark') {
            jtd.setTheme('dark');
            headerBtnToggle.textContent = '☼ light';
        } else {
            jtd.setTheme('light');
            headerBtnToggle.textContent = '☾ dark';
        }

        // Add click event listener for toggling theme
        headerBtnToggle.addEventListener('click', function () {
            if (jtd.getTheme() === 'dark') {
                jtd.setTheme('light');
                headerBtnToggle.textContent = '☾ dark';
                localStorage.setItem('theme', 'light');
            } else {
                jtd.setTheme('dark');
                headerBtnToggle.textContent = '☼ light';
                localStorage.setItem('theme', 'dark');
            }
        });
    } else {
        console.error("Header dark mode button not found.");
    }
});
</script>
